<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Academic Support Center</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="pngegg.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    .support-form {
      max-width: 600px;
      margin: 20px auto;
      padding: 30px;
      background: var(--bg-primary);
      box-shadow: 0 8px 14px var(--shadow);
      border-radius: 20px;
      transition: var(--transition);
    }

    .support-form h2 {
      text-align: center;
      margin-bottom: 25px;
      color: var(--primary);
    }

    .support-form input,
    .support-form select {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .support-form button {
      margin-top: 25px;
      width: 100%;
      padding: 12px;
      font-size: 18px;
      background-color: #004080;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .support-form button:hover {
      background-color: #003366;
    }

    .tab-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    .tab-buttons button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      background-color: #004080;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }

    .tab-buttons button.active {
      background-color: #0066cc;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    h3 {
      padding-top: 50px;
      text-align: center;
      color: #0066cc;
    }

    .yearsel {
      background-color: #c8d0d7;
      margin: 40px;
      border-radius: 10px;
    }




    /* Add these styles to your existing CSS */
    .support-form .form-group {
      margin-bottom: 20px;
    }

    .support-form .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 500;
    }

    .support-form .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }

    .support-form .form-group input[type="text"],
    .support-form .form-group input[type="email"],
    .support-form .form-group input[type="tel"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }

    .support-form .form-group input[type="file"] {
      border: 2px dashed #ccc;
      padding: 15px;
      background-color: #f9f9f9;
      cursor: pointer;
    }

    .support-form .form-group input[type="file"]:hover {
      border-color: #004080;
      background-color: #f0f8ff;
    }

    .support-form button[type="submit"] {
      margin-top: 25px;
      width: 100%;
      padding: 14px;
      font-size: 18px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .support-form button[type="submit"]:hover {
      background-color: #218838;
    }

    .support-form button[type="submit"] i {
      margin-right: 8px;
    }

    /* Progress bar for file upload */
    .upload-progress {
      width: 100%;
      height: 20px;
      background-color: #f0f0f0;
      border-radius: 10px;
      margin-top: 10px;
      overflow: hidden;
      display: none;
    }

    .upload-progress-bar {
      height: 100%;
      background-color: #28a745;
      width: 0%;
      transition: width 0.3s;
    }

    .upload-preview {
      margin-top: 10px;
      max-width: 200px;
      display: none;
    }

    .upload-preview img {
      max-width: 100%;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
  </style>
</head>

<body>

  <div id="overlay"></div>

  <header>
    <nav>
      <div class="nav-left">
        <button id="menuBtn"><i class="fas fa-bars"></i></button>
        <div class="logo">
          <img src="GALLERY/image-removebg-preview.png" alt="Chuka University Logo">
          <div class="logo-text">
            <h1>Chuka University</h1>
            <p>Faculty of Engineering</p>
          </div>
        </div>
      </div>
      <div class="nav-actions">
        <div id="adminIndicator">
          <i class="fas fa-crown"></i> Admin
        </div>
        <button id="themeToggle">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </nav>
  </header>

  <div id="sidebar">
    <a href="index.html"><i class="fas fa-home"></i> Home</a>
    <a href="timetable.html"><i class="fas fa-calendar"></i> Timetable</a>
    <a href="assignments.html"><i class="fas fa-tasks"></i> Assignments</a>
    <a href="studydocs.html"><i class="fas fa-book"></i> Study Documents</a>
    <a href="gallery.html"><i class="fas fa-images"></i> Gallery</a>
    <a href="sports.html"><i class="fas fa-futbol"></i> Sports</a>
    <a href="personell.html"><i class="fas fa-users"></i> Personnel</a>
    <a href="registration.html"><i class="fas fa-clipboard-list"></i> Registration</a>
    <a href="support.html"><i class="fas fa-life-ring"></i> Academic Support</a>
    <a href="admin-login.html" id="adminLoginLink"><i class="fas fa-lock"></i> Admin Login</a>
    <a href="admin-dashboard.html" id="adminDashboardLink" style="display: none;"><i class="fas fa-cogs"></i>
      Dashboard</a>
  </div>

  <main class="content">
    <section class="yearsel">
      <h3>Choose your current year of study</h3>
      <div class="tab-buttons">
        <button onclick="showTab('year1')" class="active">1st Year</button>
        <button onclick="showTab('year2')">2nd Year</button>
        <button onclick="showTab('year3')">3rd Year</button>
        <button onclick="showTab('year4')">4th Year</button>
        <button onclick="showTab('year5')">5th Year</button>
      </div>
    </section>


    <!-- Each form structure -->
    <section id="year1" class="tab-content">
      <form class="support-form" id="form-year1">
        <h2>Missing Marks Complaint (1st years)</h2>
        <input name="Name" placeholder="Your Name" required>
        <input name="RegNo" placeholder="Your Registration Number" required>
        <input name="Lecturer" placeholder="Lecturer's Name" required>
        <select name="Unit" required>
          <option value="">-- Select Unit --</option>
          <option value="CHEM 110">CHEM 110 - Inorganic Chemistry</option>
          <option value="COMS 101">COMS 101 - Communication Skills</option>
          <option value="COSC 121">COSC 121 - Intro to Computers</option>
          <option value="EENG 111">EENG 111 - Workshop Practice I</option>
          <option value="EENG 112">EENG 112 - Engineering Drawing I</option>
          <option value="MATH 121">MATH 121 - Calculus I</option>
          <option value="MATH 122">MATH 122 - Basic Mathematics</option>
          <option value="MATH 124">MATH 124 - Geometry and Linear Algebra</option>
          <option value="PHYS 112">PHYS 112 - Physics I</option>
          <option value="PHYS 121">PHYS 121 - Physics Practical I</option>
          <option value="CHEM 120">CHEM 120 - Physical Chemistry</option>
          <option value="COSC 113">COSC 113 - Computers for Engineering</option>
          <option value="EENG 113">EENG 113 - Engineering Drawing II</option>
          <option value="EENG 114">EENG 114 - Workshop Practice II</option>
          <option value="MATH 141">MATH 141 - Introductory Statistics</option>
          <option value="PHIL 100">PHIL 100 - Intro to Philosophy</option>
          <option value="PHYS 113">PHYS 113 - Physics II</option>
          <option value="PHYS 122">PHYS 122 - Physics Practical II</option>
          <option value="ZOOL 143">ZOOL 143 - HIV/AIDS and Society</option>
          <option value="EENG 215">EENG 215 - Workshop Practice III</option>
          <option value="EENG 231">EENG 231 - Electrical Engineering Materials</option>
          <option value="EENG 232">EENG 232 - Electromagnetic Field Theory</option>
          <option value="EENG 271">EENG 271 - Transducers and Sensors</option>
          <option value="EENG 291">EENG 291 - Physical Electronics I</option>
          <option value="MATH 221">MATH 221 - Calculus II</option>
          <option value="MATH 241">MATH 241 - Probability and Statistics</option>
          <option value="EENG 221">EENG 221 - Industrial Attachment</option>
          <option value="EENG 222">EENG 222 - Technical Report Writing and Presentation Skills</option>
          <option value="EENG 241">EENG 241 - Electrical Machines I</option>
          <option value="EENG 251">EENG 251 - Circuit and Network Analysis I</option>
          <option value="EENG 272">EENG 272 - Control Systems I</option>
          <option value="EENG 292">EENG 292 - Physical Electronics II</option>
          <option value="MATH 203">MATH 203 - Introduction to Analysis</option>
          <option value="MATH 222">MATH 222 - Vector Analysis</option>
          <option value="EENG 342">EENG 342 - Electrical Machines II</option>
          <option value="EENG 343">EENG 343 - Electrical Motors I</option>
          <option value="EENG 352">EENG 352 - Circuit and Network Analysis II</option>
          <option value="EENG 361">EENG 361 - Power Systems I</option>
          <option value="EENG 373">EENG 373 - Control Systems II</option>
          <option value="EENG 393">EENG 393 - Analogue Electronics I</option>
          <option value="MATH 322">MATH 322 - Ordinary differential equation</option>
          <option value="COSC 316">COSC 316 - Embedded Software Development Principles</option>
          <option value="EENG 323">EENG 323 - Industrial Attachment</option>
          <option value="EENG 353">EENG 353 - Electronic Devices & Circuits</option>
          <option value="EENG 354">EENG 354 - Systems Digital Logic Design</option>
          <option value="EENG 362">EENG 362 - Renewable Energy Systems</option>
          <option value="EENG 363">EENG 363 - Power Electronics I</option>
          <option value="EENG 394">EENG 394 - Digital Electronics</option>
          <option value="EENG 395">EENG 395 - Analogue Electronics II</option>
          <option value="MATH 323">MATH 323 - Numerical Analysis I</option>
          <option value="EENG 425">EENG 425 - Engineering Project I</option>
          <option value="EENG 426">EENG 426 - Industrial Attachment</option>
          <option value="EENG 446">EENG 446 - Electrical Machine Design</option>
          <option value="EENG 455">EENG 455 - Electrical Network Analysis</option>
          <option value="EENG 465">EENG 465 - Power Systems II</option>
          <option value="EENG 474">EENG 474 - Microprocessors I</option>
          <option value="EENG 475">EENG 475 - Control Engineering I</option>
          <option value="EENG 476">EENG 476 - Microprocessor II</option>
          <option value="EENG 482">EENG 482 - Signals and Systems</option>
          <option value="EENG 483">EENG 483 - Communication Systems</option>
          <option value="EENG 561">EENG 561 - Power Electronics II</option>
          <option value="EENG 562">EENG 562 - Power System Protection</option>
          <option value="EENG 563">EENG 563 - Electrical Power Transmission</option>
          <option value="EENG 564">EENG 564 - Power System Analysis</option>
          <option value="EENG 565">EENG 565 - High Voltage Engineering</option>
          <option value="EENG 571">EENG 571 - Instrumentation and Measurements</option>
          <option value="EENG 572">EENG 572 - Artificial Neural Networks & Intelligent systems</option>
          <option value="EENG 573">EENG 573 - Control Engineering II</option>
          <option value="EENG 574">EENG 574 - Programmable Logic Controller</option>
          <option value="EENG 575">EENG 575 - Digital Control and Embedded systems</option>
          <option value="EENG 576">EENG 576 - FPGA-based System Design</option>
          <option value="EENG 581">EENG 581 - Satellite Communication Engineering</option>
          <option value="EENG 582">EENG 582 - Wireless and Mobile Communication II</option>
          <option value="EENG 583">EENG 583 - Transmission and Switching</option>
          <option value="EENG 584">EENG 584 - Digital Signal Processing</option>
          <option value="EENG 585">EENG 585 - Optical Communication</option>
          <option value="EENG 591">EENG 591 - Option-Electronics</option>
          <option value="EENG 592">EENG 592 - Digital System Design</option>
          <option value="EENG 593">EENG 593 - Integrated Electronics</option>


          <!-- Add other 2nd-year units -->
        </select>
        <button type="submit">Submit Complaint</button>
      </form>
    </section>

    <section id="year2" class="tab-content active">
      <form class="support-form" id="form-year2">
        <h2>Missing Marks Complaint ( 2nd Year)</h2>
        <input name="RegNo" placeholder="Your Registration Number" required>
        <select name="Unit" required>
          <option value="">-- Select Unit --</option>
          <option value="CHEM 110">CHEM 110 - Inorganic Chemistry</option>
          <option value="COMS 101">COMS 101 - Communication Skills</option>
          <option value="COSC 121">COSC 121 - Intro to Computers</option>
          <option value="EENG 111">EENG 111 - Workshop Practice I</option>
          <option value="EENG 112">EENG 112 - Engineering Drawing I</option>
          <option value="MATH 121">MATH 121 - Calculus I</option>
          <option value="MATH 122">MATH 122 - Basic Mathematics</option>
          <option value="MATH 124">MATH 124 - Geometry and Linear Algebra</option>
          <option value="PHYS 112">PHYS 112 - Physics I</option>
          <option value="PHYS 121">PHYS 121 - Physics Practical I</option>
          <option value="CHEM 120">CHEM 120 - Physical Chemistry</option>
          <option value="COSC 113">COSC 113 - Computers for Engineering</option>
          <option value="EENG 113">EENG 113 - Engineering Drawing II</option>
          <option value="EENG 114">EENG 114 - Workshop Practice II</option>
          <option value="MATH 141">MATH 141 - Introductory Statistics</option>
          <option value="PHIL 100">PHIL 100 - Intro to Philosophy</option>
          <option value="PHYS 113">PHYS 113 - Physics II</option>
          <option value="PHYS 122">PHYS 122 - Physics Practical II</option>
          <option value="ZOOL 143">ZOOL 143 - HIV/AIDS and Society</option>
          <!-- Add other 2nd-year units -->
        </select>
        <button type="submit">Submit Complaint</button>
      </form>
      <!-- NEW: Anonymous Class Issues Form -->
      <form class="support-form" id="form-anonymous-year2" style="margin-top: 40px;">
        <h2>Anonymous Class Issue (2nd Year)</h2>
        <select name="IssueType" required>
          <option value="">-- Select Issue Type --</option>
          <option value="teaching">Teaching Quality</option>
          <option value="resources">Learning Resources</option>
          <option value="facilities">Classroom Facilities</option>
          <option value="schedule">Class Schedule</option>
          <option value="communication">Communication Issues</option>
          <option value="other">Other</option>
        </select>
        <textarea name="Description" placeholder="Describe the issue in detail..." style="width: 100%; height: 120px; padding: 10px; margin-top: 10px; 
                         border: 1px solid #ccc; border-radius: 5px; font-family: inherit; 
                         font-size: 16px; resize: vertical;" required></textarea>
        <button type="submit">Submit Anonymously</button>
      </form>
      <!-- Add this after the anonymous class issues form in each year section -->
      <!-- For Year 2 section (id="year2") -->
      <form class="support-form" id="form-course-reg-year2" style="margin-top: 40px;">
        <h2>Course Registration Issue (2nd Year)</h2>

        <input type="text" name="studentName" placeholder="Your Full Name" required>
        <input type="text" name="regNumber" placeholder="Your Registration Number" required>

        <div class="form-group">
          <label>Issue Type:</label>
          <select name="issueType" required>
            <option value="">-- Select Issue Type --</option>
            <option value="registration_error">Registration Error</option>
            <option value="unit_not_found">Unit Not Found</option>
            <option value="prerequisite_issue">Prerequisite Issue</option>
            <option value="time_conflict">Time Conflict</option>
            <option value="capacity_full">Unit Capacity Full</option>
            <option value="system_error">System Error</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label>Detailed Explanation:</label>
          <textarea name="explanation" placeholder="Please describe your issue in detail..." style="width: 100%; height: 120px; padding: 10px; margin-top: 10px; 
                         border: 1px solid #ccc; border-radius: 5px; font-family: inherit; 
                         font-size: 16px; resize: vertical;" required></textarea>
        </div>

        <div class="form-group">
          <label>Upload Screenshot (Optional):</label>
          <input type="file" name="screenshot" accept="image/*" style="width: 100%; padding: 8px; margin-top: 10px;">
          <small style="display: block; margin-top: 5px; color: #666;">
            Upload a screenshot of the error (JPG, PNG, GIF - Max 5MB)
          </small>
        </div>

        <div class="form-group">
          <label>Contact Email (Optional):</label>
          <input type="email" name="contactEmail" placeholder="Your email for updates">
        </div>

        <div class="form-group">
          <label>Contact Phone (Optional):</label>
          <input type="tel" name="contactPhone" placeholder="Your phone number">
        </div>

        <button type="submit" style="background-color: #28a745;">
          <i class="fas fa-paper-plane"></i> Submit Issue
        </button>
      </form>
    </section>
    </section>

    <section id="year3" class="tab-content">
      <form class="support-form" id="form-year3">
        <h2>Missing Marks Complaint (3rd Year)</h2>
        <input name="Name" placeholder="Your Name" required>
        <input name="RegNo" placeholder="Your Registration Number" required>
        <input name="Lecturer" placeholder="Lecturer's Name" required>
        <select name="Unit" required>
          <option value="">-- Select Unit --</option>
          <option value="CHEM 110">CHEM 110 - Inorganic Chemistry</option>
          <option value="COMS 101">COMS 101 - Communication Skills</option>
          <option value="COSC 121">COSC 121 - Intro to Computers</option>
          <option value="EENG 111">EENG 111 - Workshop Practice I</option>
          <option value="EENG 112">EENG 112 - Engineering Drawing I</option>
          <option value="MATH 121">MATH 121 - Calculus I</option>
          <option value="MATH 122">MATH 122 - Basic Mathematics</option>
          <option value="MATH 124">MATH 124 - Geometry and Linear Algebra</option>
          <option value="PHYS 112">PHYS 112 - Physics I</option>
          <option value="PHYS 121">PHYS 121 - Physics Practical I</option>
          <option value="CHEM 120">CHEM 120 - Physical Chemistry</option>
          <option value="COSC 113">COSC 113 - Computers for Engineering</option>
          <option value="EENG 113">EENG 113 - Engineering Drawing II</option>
          <option value="EENG 114">EENG 114 - Workshop Practice II</option>
          <option value="MATH 141">MATH 141 - Introductory Statistics</option>
          <option value="PHIL 100">PHIL 100 - Intro to Philosophy</option>
          <option value="PHYS 113">PHYS 113 - Physics II</option>
          <option value="PHYS 122">PHYS 122 - Physics Practical II</option>
          <option value="ZOOL 143">ZOOL 143 - HIV/AIDS and Society</option>
          <option value="EENG 215">EENG 215 - Workshop Practice III</option>
          <option value="EENG 231">EENG 231 - Electrical Engineering Materials</option>
          <option value="EENG 232">EENG 232 - Electromagnetic Field Theory</option>
          <option value="EENG 271">EENG 271 - Transducers and Sensors</option>
          <option value="EENG 291">EENG 291 - Physical Electronics I</option>
          <option value="MATH 221">MATH 221 - Calculus II</option>
          <option value="MATH 241">MATH 241 - Probability and Statistics</option>
          <option value="EENG 221">EENG 221 - Industrial Attachment</option>
          <option value="EENG 222">EENG 222 - Technical Report Writing and Presentation Skills</option>
          <option value="EENG 241">EENG 241 - Electrical Machines I</option>
          <option value="EENG 251">EENG 251 - Circuit and Network Analysis I</option>
          <option value="EENG 272">EENG 272 - Control Systems I</option>
          <option value="EENG 292">EENG 292 - Physical Electronics II</option>
          <option value="MATH 203">MATH 203 - Introduction to Analysis</option>
          <option value="MATH 222">MATH 222 - Vector Analysis</option>
          <option value="EENG 342">EENG 342 - Electrical Machines II</option>
          <option value="EENG 343">EENG 343 - Electrical Motors I</option>
          <option value="EENG 352">EENG 352 - Circuit and Network Analysis II</option>
          <option value="EENG 361">EENG 361 - Power Systems I</option>
          <option value="EENG 373">EENG 373 - Control Systems II</option>
          <option value="EENG 393">EENG 393 - Analogue Electronics I</option>
          <option value="MATH 322">MATH 322 - Ordinary differential equation</option>
          <option value="COSC 316">COSC 316 - Embedded Software Development Principles</option>
          <option value="EENG 323">EENG 323 - Industrial Attachment</option>
          <option value="EENG 353">EENG 353 - Electronic Devices & Circuits</option>
          <option value="EENG 354">EENG 354 - Systems Digital Logic Design</option>
          <option value="EENG 362">EENG 362 - Renewable Energy Systems</option>
          <option value="EENG 363">EENG 363 - Power Electronics I</option>
          <option value="EENG 394">EENG 394 - Digital Electronics</option>
          <option value="EENG 395">EENG 395 - Analogue Electronics II</option>
          <option value="MATH 323">MATH 323 - Numerical Analysis I</option>
          <option value="EENG 425">EENG 425 - Engineering Project I</option>
          <option value="EENG 426">EENG 426 - Industrial Attachment</option>
          <option value="EENG 446">EENG 446 - Electrical Machine Design</option>
          <option value="EENG 455">EENG 455 - Electrical Network Analysis</option>
          <option value="EENG 465">EENG 465 - Power Systems II</option>
          <option value="EENG 474">EENG 474 - Microprocessors I</option>
          <option value="EENG 475">EENG 475 - Control Engineering I</option>
          <option value="EENG 476">EENG 476 - Microprocessor II</option>
          <option value="EENG 482">EENG 482 - Signals and Systems</option>
          <option value="EENG 483">EENG 483 - Communication Systems</option>
          <option value="EENG 561">EENG 561 - Power Electronics II</option>
          <option value="EENG 562">EENG 562 - Power System Protection</option>
          <option value="EENG 563">EENG 563 - Electrical Power Transmission</option>
          <option value="EENG 564">EENG 564 - Power System Analysis</option>
          <option value="EENG 565">EENG 565 - High Voltage Engineering</option>
          <option value="EENG 571">EENG 571 - Instrumentation and Measurements</option>
          <option value="EENG 572">EENG 572 - Artificial Neural Networks & Intelligent systems</option>
          <option value="EENG 573">EENG 573 - Control Engineering II</option>
          <option value="EENG 574">EENG 574 - Programmable Logic Controller</option>
          <option value="EENG 575">EENG 575 - Digital Control and Embedded systems</option>
          <option value="EENG 576">EENG 576 - FPGA-based System Design</option>
          <option value="EENG 581">EENG 581 - Satellite Communication Engineering</option>
          <option value="EENG 582">EENG 582 - Wireless and Mobile Communication II</option>
          <option value="EENG 583">EENG 583 - Transmission and Switching</option>
          <option value="EENG 584">EENG 584 - Digital Signal Processing</option>
          <option value="EENG 585">EENG 585 - Optical Communication</option>
          <option value="EENG 591">EENG 591 - Option-Electronics</option>
          <option value="EENG 592">EENG 592 - Digital System Design</option>
          <option value="EENG 593">EENG 593 - Integrated Electronics</option>


          <!-- Add other 2nd-year units -->
        </select>
        <button type="submit">Submit Complaint</button>
      </form>


    </section>

    <section id="year4" class="tab-content">
      <form class="support-form" id="form-year4">
        <h2>Missing Marks Complaint (4th Year)</h2>
        <input name="Name" placeholder="Your Name" required>
        <input name="RegNo" placeholder="Your Registration Number" required>
        <input name="Lecturer" placeholder="Lecturer's Name" required>
        <select name="Unit" required>
          <option value="">-- Select Unit --</option>
          <option value="CHEM 110">CHEM 110 - Inorganic Chemistry</option>
          <option value="COMS 101">COMS 101 - Communication Skills</option>
          <option value="COSC 121">COSC 121 - Intro to Computers</option>
          <option value="EENG 111">EENG 111 - Workshop Practice I</option>
          <option value="EENG 112">EENG 112 - Engineering Drawing I</option>
          <option value="MATH 121">MATH 121 - Calculus I</option>
          <option value="MATH 122">MATH 122 - Basic Mathematics</option>
          <option value="MATH 124">MATH 124 - Geometry and Linear Algebra</option>
          <option value="PHYS 112">PHYS 112 - Physics I</option>
          <option value="PHYS 121">PHYS 121 - Physics Practical I</option>
          <option value="CHEM 120">CHEM 120 - Physical Chemistry</option>
          <option value="COSC 113">COSC 113 - Computers for Engineering</option>
          <option value="EENG 113">EENG 113 - Engineering Drawing II</option>
          <option value="EENG 114">EENG 114 - Workshop Practice II</option>
          <option value="MATH 141">MATH 141 - Introductory Statistics</option>
          <option value="PHIL 100">PHIL 100 - Intro to Philosophy</option>
          <option value="PHYS 113">PHYS 113 - Physics II</option>
          <option value="PHYS 122">PHYS 122 - Physics Practical II</option>
          <option value="ZOOL 143">ZOOL 143 - HIV/AIDS and Society</option>
          <option value="EENG 215">EENG 215 - Workshop Practice III</option>
          <option value="EENG 231">EENG 231 - Electrical Engineering Materials</option>
          <option value="EENG 232">EENG 232 - Electromagnetic Field Theory</option>
          <option value="EENG 271">EENG 271 - Transducers and Sensors</option>
          <option value="EENG 291">EENG 291 - Physical Electronics I</option>
          <option value="MATH 221">MATH 221 - Calculus II</option>
          <option value="MATH 241">MATH 241 - Probability and Statistics</option>
          <option value="EENG 221">EENG 221 - Industrial Attachment</option>
          <option value="EENG 222">EENG 222 - Technical Report Writing and Presentation Skills</option>
          <option value="EENG 241">EENG 241 - Electrical Machines I</option>
          <option value="EENG 251">EENG 251 - Circuit and Network Analysis I</option>
          <option value="EENG 272">EENG 272 - Control Systems I</option>
          <option value="EENG 292">EENG 292 - Physical Electronics II</option>
          <option value="MATH 203">MATH 203 - Introduction to Analysis</option>
          <option value="MATH 222">MATH 222 - Vector Analysis</option>
          <option value="EENG 342">EENG 342 - Electrical Machines II</option>
          <option value="EENG 343">EENG 343 - Electrical Motors I</option>
          <option value="EENG 352">EENG 352 - Circuit and Network Analysis II</option>
          <option value="EENG 361">EENG 361 - Power Systems I</option>
          <option value="EENG 373">EENG 373 - Control Systems II</option>
          <option value="EENG 393">EENG 393 - Analogue Electronics I</option>
          <option value="MATH 322">MATH 322 - Ordinary differential equation</option>
          <option value="COSC 316">COSC 316 - Embedded Software Development Principles</option>
          <option value="EENG 323">EENG 323 - Industrial Attachment</option>
          <option value="EENG 353">EENG 353 - Electronic Devices & Circuits</option>
          <option value="EENG 354">EENG 354 - Systems Digital Logic Design</option>
          <option value="EENG 362">EENG 362 - Renewable Energy Systems</option>
          <option value="EENG 363">EENG 363 - Power Electronics I</option>
          <option value="EENG 394">EENG 394 - Digital Electronics</option>
          <option value="EENG 395">EENG 395 - Analogue Electronics II</option>
          <option value="MATH 323">MATH 323 - Numerical Analysis I</option>
          <option value="EENG 425">EENG 425 - Engineering Project I</option>
          <option value="EENG 426">EENG 426 - Industrial Attachment</option>
          <option value="EENG 446">EENG 446 - Electrical Machine Design</option>
          <option value="EENG 455">EENG 455 - Electrical Network Analysis</option>
          <option value="EENG 465">EENG 465 - Power Systems II</option>
          <option value="EENG 474">EENG 474 - Microprocessors I</option>
          <option value="EENG 475">EENG 475 - Control Engineering I</option>
          <option value="EENG 476">EENG 476 - Microprocessor II</option>
          <option value="EENG 482">EENG 482 - Signals and Systems</option>
          <option value="EENG 483">EENG 483 - Communication Systems</option>
          <option value="EENG 561">EENG 561 - Power Electronics II</option>
          <option value="EENG 562">EENG 562 - Power System Protection</option>
          <option value="EENG 563">EENG 563 - Electrical Power Transmission</option>
          <option value="EENG 564">EENG 564 - Power System Analysis</option>
          <option value="EENG 565">EENG 565 - High Voltage Engineering</option>
          <option value="EENG 571">EENG 571 - Instrumentation and Measurements</option>
          <option value="EENG 572">EENG 572 - Artificial Neural Networks & Intelligent systems</option>
          <option value="EENG 573">EENG 573 - Control Engineering II</option>
          <option value="EENG 574">EENG 574 - Programmable Logic Controller</option>
          <option value="EENG 575">EENG 575 - Digital Control and Embedded systems</option>
          <option value="EENG 576">EENG 576 - FPGA-based System Design</option>
          <option value="EENG 581">EENG 581 - Satellite Communication Engineering</option>
          <option value="EENG 582">EENG 582 - Wireless and Mobile Communication II</option>
          <option value="EENG 583">EENG 583 - Transmission and Switching</option>
          <option value="EENG 584">EENG 584 - Digital Signal Processing</option>
          <option value="EENG 585">EENG 585 - Optical Communication</option>
          <option value="EENG 591">EENG 591 - Option-Electronics</option>
          <option value="EENG 592">EENG 592 - Digital System Design</option>
          <option value="EENG 593">EENG 593 - Integrated Electronics</option>


          <!-- Add other 2nd-year units -->
        </select>
        <button type="submit">Submit Complaint</button>
      </form>
    </section>

    <section id="year5" class="tab-content">
      <form class="support-form" id="form-year5">
        <h2>Missing Marks Complaint (5th Year)</h2>
        <input name="Name" placeholder="Your Name" required>
        <input name="RegNo" placeholder="Your Registration Number" required>
        <input name="Lecturer" placeholder="Lecturer's Name" required>
        <select name="Unit" required>
          <option value="">-- Select Unit --</option>
          <option value="CHEM 110">CHEM 110 - Inorganic Chemistry</option>
          <option value="COMS 101">COMS 101 - Communication Skills</option>
          <option value="COSC 121">COSC 121 - Intro to Computers</option>
          <option value="EENG 111">EENG 111 - Workshop Practice I</option>
          <option value="EENG 112">EENG 112 - Engineering Drawing I</option>
          <option value="MATH 121">MATH 121 - Calculus I</option>
          <option value="MATH 122">MATH 122 - Basic Mathematics</option>
          <option value="MATH 124">MATH 124 - Geometry and Linear Algebra</option>
          <option value="PHYS 112">PHYS 112 - Physics I</option>
          <option value="PHYS 121">PHYS 121 - Physics Practical I</option>
          <option value="CHEM 120">CHEM 120 - Physical Chemistry</option>
          <option value="COSC 113">COSC 113 - Computers for Engineering</option>
          <option value="EENG 113">EENG 113 - Engineering Drawing II</option>
          <option value="EENG 114">EENG 114 - Workshop Practice II</option>
          <option value="MATH 141">MATH 141 - Introductory Statistics</option>
          <option value="PHIL 100">PHIL 100 - Intro to Philosophy</option>
          <option value="PHYS 113">PHYS 113 - Physics II</option>
          <option value="PHYS 122">PHYS 122 - Physics Practical II</option>
          <option value="ZOOL 143">ZOOL 143 - HIV/AIDS and Society</option>
          <option value="EENG 215">EENG 215 - Workshop Practice III</option>
          <option value="EENG 231">EENG 231 - Electrical Engineering Materials</option>
          <option value="EENG 232">EENG 232 - Electromagnetic Field Theory</option>
          <option value="EENG 271">EENG 271 - Transducers and Sensors</option>
          <option value="EENG 291">EENG 291 - Physical Electronics I</option>
          <option value="MATH 221">MATH 221 - Calculus II</option>
          <option value="MATH 241">MATH 241 - Probability and Statistics</option>
          <option value="EENG 221">EENG 221 - Industrial Attachment</option>
          <option value="EENG 222">EENG 222 - Technical Report Writing and Presentation Skills</option>
          <option value="EENG 241">EENG 241 - Electrical Machines I</option>
          <option value="EENG 251">EENG 251 - Circuit and Network Analysis I</option>
          <option value="EENG 272">EENG 272 - Control Systems I</option>
          <option value="EENG 292">EENG 292 - Physical Electronics II</option>
          <option value="MATH 203">MATH 203 - Introduction to Analysis</option>
          <option value="MATH 222">MATH 222 - Vector Analysis</option>
          <option value="EENG 342">EENG 342 - Electrical Machines II</option>
          <option value="EENG 343">EENG 343 - Electrical Motors I</option>
          <option value="EENG 352">EENG 352 - Circuit and Network Analysis II</option>
          <option value="EENG 361">EENG 361 - Power Systems I</option>
          <option value="EENG 373">EENG 373 - Control Systems II</option>
          <option value="EENG 393">EENG 393 - Analogue Electronics I</option>
          <option value="MATH 322">MATH 322 - Ordinary differential equation</option>
          <option value="COSC 316">COSC 316 - Embedded Software Development Principles</option>
          <option value="EENG 323">EENG 323 - Industrial Attachment</option>
          <option value="EENG 353">EENG 353 - Electronic Devices & Circuits</option>
          <option value="EENG 354">EENG 354 - Systems Digital Logic Design</option>
          <option value="EENG 362">EENG 362 - Renewable Energy Systems</option>
          <option value="EENG 363">EENG 363 - Power Electronics I</option>
          <option value="EENG 394">EENG 394 - Digital Electronics</option>
          <option value="EENG 395">EENG 395 - Analogue Electronics II</option>
          <option value="MATH 323">MATH 323 - Numerical Analysis I</option>
          <option value="EENG 425">EENG 425 - Engineering Project I</option>
          <option value="EENG 426">EENG 426 - Industrial Attachment</option>
          <option value="EENG 446">EENG 446 - Electrical Machine Design</option>
          <option value="EENG 455">EENG 455 - Electrical Network Analysis</option>
          <option value="EENG 465">EENG 465 - Power Systems II</option>
          <option value="EENG 474">EENG 474 - Microprocessors I</option>
          <option value="EENG 475">EENG 475 - Control Engineering I</option>
          <option value="EENG 476">EENG 476 - Microprocessor II</option>
          <option value="EENG 482">EENG 482 - Signals and Systems</option>
          <option value="EENG 483">EENG 483 - Communication Systems</option>
          <option value="EENG 561">EENG 561 - Power Electronics II</option>
          <option value="EENG 562">EENG 562 - Power System Protection</option>
          <option value="EENG 563">EENG 563 - Electrical Power Transmission</option>
          <option value="EENG 564">EENG 564 - Power System Analysis</option>
          <option value="EENG 565">EENG 565 - High Voltage Engineering</option>
          <option value="EENG 571">EENG 571 - Instrumentation and Measurements</option>
          <option value="EENG 572">EENG 572 - Artificial Neural Networks & Intelligent systems</option>
          <option value="EENG 573">EENG 573 - Control Engineering II</option>
          <option value="EENG 574">EENG 574 - Programmable Logic Controller</option>
          <option value="EENG 575">EENG 575 - Digital Control and Embedded systems</option>
          <option value="EENG 576">EENG 576 - FPGA-based System Design</option>
          <option value="EENG 581">EENG 581 - Satellite Communication Engineering</option>
          <option value="EENG 582">EENG 582 - Wireless and Mobile Communication II</option>
          <option value="EENG 583">EENG 583 - Transmission and Switching</option>
          <option value="EENG 584">EENG 584 - Digital Signal Processing</option>
          <option value="EENG 585">EENG 585 - Optical Communication</option>
          <option value="EENG 591">EENG 591 - Option-Electronics</option>
          <option value="EENG 592">EENG 592 - Digital System Design</option>
          <option value="EENG 593">EENG 593 - Integrated Electronics</option>


          <!-- Add other 2nd-year units -->
        </select>
        <button type="submit">Submit Complaint</button>
      </form>
    </section>
  </main>

  <script>
    // Theme Toggle
    const themeToggle = document.getElementById('themeToggle');
    const html = document.documentElement;

    const savedTheme = localStorage.getItem('theme') || 'light';
    html.setAttribute('data-theme', savedTheme);
    updateThemeIcon(savedTheme);

    themeToggle.addEventListener('click', () => {
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcon(newTheme);
    });

    function updateThemeIcon(theme) {
      const icon = themeToggle.querySelector('i');
      icon.className = theme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
    }

    // Sidebar Toggle
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    menuBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
    });

    overlay.addEventListener('click', () => {
      sidebar.classList.remove('active');
      overlay.classList.remove('active');
    });

    function showTab(id) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-buttons button').forEach(btn => btn.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
    }
    // Add this to your existing JavaScript
    document.addEventListener('DOMContentLoaded', function () {
      // File upload preview
      const fileInputs = document.querySelectorAll('input[type="file"]');
      fileInputs.forEach(input => {
        input.addEventListener('change', function (e) {
          const file = e.target.files[0];
          if (!file) return;

          // Validate file size (5MB limit)
          if (file.size > 5 * 1024 * 1024) {
            alert('File size too large. Maximum size is 5MB.');
            e.target.value = '';
            return;
          }

          // Validate file type
          const validTypes = ['image/jpeg', 'image/png', 'image/gif'];
          if (!validTypes.includes(file.type)) {
            alert('Please upload only JPG, PNG, or GIF images.');
            e.target.value = '';
            return;
          }

          // Create preview
          const reader = new FileReader();
          reader.onload = function (e) {
            const container = input.closest('.form-group');
            let preview = container.querySelector('.upload-preview');

            if (!preview) {
              preview = document.createElement('div');
              preview.className = 'upload-preview';
              container.appendChild(preview);
            }

            preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
            preview.style.display = 'block';
          };
          reader.readAsDataURL(file);
        });
      });
    });
  </script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";


    const app = initializeApp({
      apiKey: "AIzaSyD3oMlsv9C3Qepvkw_Y1JVfhVJiMwZLox4",
      authDomain: "bsceee-webpage.firebaseapp.com",
      databaseURL: "https://bsceee-webpage-default-rtdb.firebaseio.com",
      projectId: "bsceee-webpage",
      storageBucket: "bsceee-webpage.appspot.com",
      messagingSenderId: "281106710079",
      appId: "1:281106710079:web:2c6ab931bc3cab8e4e428a"
    });
    const db = getDatabase(app);

    // 2nd year complaint logic with duplicate prevention
    const form2 = document.getElementById("form-year2");
    form2.addEventListener("submit", async (e) => {
      e.preventDefault();
      const regNo = form2.RegNo.value.trim().toUpperCase();
      const unit = form2.Unit.value;

      const regRef = ref(db, 'registrations/' + regNo);
      const regSnap = await get(regRef);
      if (!regSnap.exists()) return alert("This Reg Number is not registered.");

      const complaintsRef = ref(db, 'complaints/' + regNo);
      const complaintsSnap = await get(complaintsRef);
      if (complaintsSnap.exists()) {
        for (const entry of Object.values(complaintsSnap.val())) {
          if (entry.unit === unit) return alert("Complaint already exists for this unit.");
        }
      }
      const timestamp = Date.now();
      await set(ref(db, `complaints/${regNo}/${timestamp}`), {
        regNo,
        unit,
        type: "Missing Marks",
        submittedAt: new Date().toISOString()
      });
      alert("Complaint submitted!");
      form2.reset();
    });

    // Other years (open input, unique paths)
    ["form-year1", "form-year3", "form-year4", "form-year5"].forEach(id => {
      const form = document.getElementById(id);
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const name = form.Name.value.trim();
        const regNo = form.RegNo.value.trim().toUpperCase();
        const unit = form.Unit.value.trim();
        const lecturer = form.Lecturer.value.trim();
        if (!name || !regNo || !unit || !lecturer) return alert("Fill in all fields.");
        const timestamp = Date.now();
        const yearKey = id.split("-")[1];
        await set(ref(db, `complaints_${yearKey}/${regNo}/${timestamp}`), {
          name,
          regNo,
          unit,
          lecturer,
          type: "Missing Marks",
          submittedAt: new Date().toISOString()
        });
        alert("Complaint submitted!");
        form.reset();
      });
    });


    // Anonymous Issues Submission
    const anonymousForm = document.getElementById('form-anonymous-year2');
    anonymousForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const issueType = anonymousForm.IssueType.value;
      const description = anonymousForm.Description.value.trim();

      if (!issueType || !description) {
        alert("Please fill in all fields.");
        return;
      }

      const timestamp = Date.now();
      await set(ref(db, `anonymous_issues/year2/${timestamp}`), {
        issueType,
        description,
        submittedAt: new Date().toISOString()
      });

      alert("Anonymous issue submitted successfully!");
      anonymousForm.reset();
    });



    // Course Registration Issues Submission (SIMPLE VERSION)
    const courseRegForm = document.getElementById('form-course-reg-year2');
    courseRegForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      // Basic validation
      const name = courseRegForm.studentName.value.trim();
      const regNo = courseRegForm.regNumber.value.trim().toUpperCase();
      const issueType = courseRegForm.issueType.value;
      const explanation = courseRegForm.explanation.value.trim();
      const contactEmail = courseRegForm.contactEmail.value.trim();
      const contactPhone = courseRegForm.contactPhone.value.trim();

      if (!name || !regNo || !issueType || !explanation) {
        alert("Please fill in all required fields.");
        return;
      }

      // Show loading state
      const submitBtn = courseRegForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
      submitBtn.disabled = true;

      try {
        // Handle file upload if present - SIMPLIFY THIS
        let screenshotData = null;
        const screenshotFile = courseRegForm.screenshot.files[0];

        if (screenshotFile) {
          // SIMPLE Base64 conversion
          if (screenshotFile.size > 2 * 1024 * 1024) { // 2MB limit
            alert('Image too large! Max 2MB.');
            throw new Error('File too large');
          }

          // Create promise for file reading
          screenshotData = await new Promise((resolve) => {
            const reader = new FileReader();
            reader.onload = (e) => resolve(e.target.result);
            reader.onerror = () => resolve(null); // Don't fail if image error
            reader.readAsDataURL(screenshotFile);
          });
        }

        const timestamp = Date.now();
        const issueData = {
          name,
          regNumber: regNo,
          issueType,
          explanation,
          contactEmail: contactEmail || null,
          contactPhone: contactPhone || null,
          screenshot: screenshotData, // Base64 or null
          screenshotName: screenshotFile ? screenshotFile.name : null,
          submittedAt: new Date().toISOString(),
          status: 'pending',
          year: 'year2',
          resolved: false
        };

        // Save to Firebase
        await set(ref(db, `course_registration_issues/year2/${timestamp}`), issueData);

        alert("✅ Course registration issue submitted successfully!");
        courseRegForm.reset();

        // Clear preview images
        document.querySelectorAll('.upload-preview').forEach(preview => {
          preview.style.display = 'none';
          preview.innerHTML = '';
        });

      } catch (error) {
        console.error("Error:", error);
        alert("❌ Error: " + (error.message || "Please try again"));
      } finally {
        // Restore button
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
      }
    });
  </script>


</body>

</html>
